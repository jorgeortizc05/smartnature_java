<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:uti="http://java.sun.com/jsf/composite/util"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui">
<!-- 
Autor: ING. JORGE LUIS ORTIZ CACERES
Fecha de Creacion:14/09/2018
Fecha de Modificacion: 22/09/2018
Empresa: FUSIONSYSTEM JORGE INC F.S.J
Funcion: Controlador Articulo Controller.
-->
<h:head>
	<f:metadata>
        <f:viewAction action="#{plataformaView.loadPlantas()}" />
        <f:viewAction action="#{plataformaView.loadTipoSuelos()}" />
        <f:viewAction action="#{plataformaView.loadDevices()}" />
 	</f:metadata>
</h:head>
<ui:composition
	template="/WEB-INF/facelets/templates/plantillaGeneral.xhtml">

	<ui:define name="cuerpo" bootsFacesDecorator="true">
	<div>
	<b:panel id="pn1" title="Nueva Plataforma" look="primary">
	
	<b:panelGrid columns="2">
		<b:panelGrid columns="3" id="pgPlataforma">
			<h:outputLabel value="Nombre:" for="nombre" />
			<b:inputText value="#{plataformaView.newPlataforma.nombre}" id="nombre"/>
			<p:message for="nombre"/>
			
			<h:outputLabel value="Descripcion:" for="descripcion" />
			<b:inputTextarea value="#{plataformaView.newPlataforma.descripcion}" id="descripcion"/>
			<p:message for="descripcion"/>
			
			<h:outputLabel value="Serial:" for="serial" />
			<b:inputText value="#{plataformaView.newPlataforma.serial}" id="serial"/>
			<p:message for="serial"/>
		</b:panelGrid>
	
		
		<b:panelGrid columns="3" id="pgPlanta">
			<p:outputLabel for="cod_plan" value="Elija una planta" />
			<p:selectOneListbox value="#{plataformaView.vIdPlanta}"
				id="cod_plan" style="width:200px" filter="true"
				filterMatchMode="contains" scrollHeight="100" required="true"
				requiredMessage="Debe eligir una planta">
				<f:selectItems value="#{plataformaView.plantas}" var="plan"
					itemLabel="#{plan.nombre}"
					itemValue="#{plan.id}" />
			</p:selectOneListbox>
			<b:message for="cod_plan"/>
		</b:panelGrid>
		
		<b:panelGrid columns="3" id="pgTipoSuelo">
			<p:outputLabel for="cod_tip_suel" value="Elija un tipo de suelo" />
			<p:selectOneListbox value="#{plataformaView.vIdTipoSuelo}"
				id="cod_tip_suel" style="width:200px" filter="true"
				filterMatchMode="contains" scrollHeight="100" required="true"
				requiredMessage="Debe eligir una planta">
				<f:selectItems value="#{plataformaView.tipSuelos}" var="tipSuel"
					itemLabel="#{tipSuel.nombre}"
					itemValue="#{tipSuel.id}" />
			</p:selectOneListbox>
			<b:message for="cod_tip_sue"/>
		</b:panelGrid>
		
		<b:panelGrid columns="3" id="pgDevice">
			<p:outputLabel for="cod_device" value="Elija un dispositivo" />
			<p:selectOneListbox value="#{plataformaView.vIdDevice}"
				id="cod_device" style="width:200px" filter="true"
				filterMatchMode="contains" scrollHeight="100" required="true"
				requiredMessage="Debe eligir una planta">
				<f:selectItems value="#{plataformaView.devices}" var="dev"
					itemLabel="#{dev.nombre}"
					itemValue="#{dev.id}" />
			</p:selectOneListbox>
			<b:message for="cod_device"/>
		</b:panelGrid>
	</b:panelGrid>
	
	
		
		<b:commandButton value="Guardar" action="#{plataformaView.guardarPlataforma()}" update="mensajes pgPlataforma" look="primary"/>
		<b:commandButton  value="Cancelar" action="list_plataforma?faces-redirect=true" immediate="true" ajax="false" look="danger"/>
		
	</b:panel>
	</div>
	<div>
	
	</div>
	</ui:define>
	


</ui:composition>
</html>